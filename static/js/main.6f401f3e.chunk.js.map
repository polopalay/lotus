{"version":3,"sources":["services/firebase/firebase.js","services/firebase/auth.js","reducers/app/app.action.js","services/img/lotus.png","services/img/user.png","components/layout/Header.js","services/firebase/database.js","services/firebase/storage.js","services/helper/mapper.js","components/view/posts/Post.js","components/tool/Editor.js","components/tool/editorTools.js","components/view/posts/Posts.js","components/view/posts/Detail.js","reducers/app/app.reducer.js","reducers/root.reducer.js","store.js","components/view/user/Setting.js","components/layout/NotFound.js","components/Routing.js","components/view/user/Login.js","components/view/user/Logout.js","components/layout/AccessDenied.js","App.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getCurrentUser","currentUser","updateDisplayName","data","action","user","updateProfile","displayName","then","updatePhotoUrl","photoURL","setUser","type","Header","username","avatar","userImg","this","props","menu","Item","icon","HomeOutlined","to","uid","SettingOutlined","LogoutOutlined","LoginOutlined","dropdown1","overlay","placement","shape","size","src","preview","dropdown2","Text","strong","notification","map","item","postId","message","key","BellOutlined","className","title","width","height","lotus","subTitle","extra","Component","connect","store","database","getRowOneTimeAsync","ref","a","once","rs","val","getRow","on","getRowByParrentIdOneTimeAsync","name","id","orderByChild","equalTo","getRowByParrentIdOneTime","addRow","push","result","deleteRow","child","remove","editRow","update","storage","uploadFileAsync","path","file","put","fullPath","_delegate","metadata","getDownloadURL","url","uploadFileFromStringAsync","string","putString","deleteByUrl","urls","forEach","replace","split","delete","mapOne","likes","lks","keyLike","userId","date","author","content","rawContent","mapData","dataset","unshift","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","error","Post","vote","post","state","comments","loading","bind","setState","parrentId","blocks","filter","includes","load","info","isWriter","liked","actions","CaretUpOutlined","onClick","CommentOutlined","onConfirm","okText","cancelText","DeleteOutlined","justify","xl","lg","md","sm","xs","datetime","span","LoadingOutlined","Editor","editor","uploadByFile","submit","uploadByUrl","EditorJS","holder","logLevel","tools","delimiter","Delimiter","paragraph","class","Paragraph","inlineToolbar","quote","Quote","marker","Marker","inlineCode","InlineCode","list","ListTool","image","ImageTool","config","uploader","save","base64regex","block","i","test","Date","now","comment","clear","success","SendOutlined","ClearOutlined","Posts","loadMore","number","match","params","posts","limitToLast","getRowFromLastOneTime","keys","prevProps","toDateString","Math","random","dataSource","align","DownOutlined","renderItem","Detail","getRowByParrentId","console","log","offset","itemLayout","canDelete","deleteComment","initialState","template","combineReducers","createStore","Setting","finish","upLoadFile","event","dispatch","defaultActiveKey","centered","TabPane","tab","style","background","onFinish","wrapperCol","htmlType","fileList","beforeUpload","NotFound","status","Routing","exact","component","Login","provider","GoogleAuthProvider","signInWithPopup","loginWithGoogle","history","Logout","signOut","AccessDenied","App","noti","mss","setNotification","onAuthStateChanged","backgroundColor","Content","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f401f3e.chunk.js","sourcesContent":["import firebase from 'firebase/app';\n\nlet config = {\n    apiKey: \"AIzaSyAIYQGiQcSjZBw9LQ9LcR1yh8uDWtsMfgs\",\n    authDomain: \"data-492da.firebaseapp.com\",\n    databaseURL: \"https://data-492da.firebaseio.com\",\n    projectId: \"data-492da\",\n    storageBucket: \"data-492da.appspot.com\",\n    messagingSenderId: \"381903672681\",\n    appId: \"1:381903672681:web:813cffbc63da30d11f99f8\",\n    measurementId: \"G-CD4W02BEZ7\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(config);\n} else {\n    firebase.app();\n}\n\nexport default firebase;\n","import 'firebase/auth'\nimport firebase from './firebase';\n\nconst auth = firebase.auth();\n\nexport function onUserStateChange(action) {\n    auth.onAuthStateChanged((user) => action && action(user));\n}\n\nexport function getCurrentUser() {\n    return auth.currentUser;\n}\n\nexport function updateDisplayName(data, action) {\n    let user = firebase.auth().currentUser;\n    if (user) {\n        user.updateProfile({displayName: data}).then(() => action && action())\n    }\n}\n\nexport function updatePhotoUrl(data, action) {\n    let user = firebase.auth().currentUser;\n    if (user) {\n        user.updateProfile({photoURL: data}).then(() => action && action())\n    }\n}\n\nexport function loginWithGoogle(action) {\n    let provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider).then(rs => action && action(rs))\n}\n\nexport function signOut(action) {\n    auth.signOut().then(rs => action && action(rs))\n}\n\n","export const setUser = (data) => {\n    return {\n        data: data,\n        type: \"SET_USER\",\n    };\n};\nexport const setNotification = (data) => {\n    return {\n        data: data,\n        type: \"SET_NOTIFICATION\",\n    };\n};\n","export default __webpack_public_path__ + \"static/media/lotus.3d5db4fb.png\";","export default __webpack_public_path__ + \"static/media/user.b326dd92.png\";","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom';\nimport {Menu, PageHeader, Dropdown, Avatar, Image, Typography} from 'antd';\nimport {SettingOutlined, LogoutOutlined, LoginOutlined, HomeOutlined, BellOutlined} from \"@ant-design/icons\";\nimport lotus from '../../services/img/lotus.png'\nimport userImg from '../../services/img/user.png'\n\nclass Header extends Component {\n  render() {\n    let avatar = userImg;\n    let username;\n    if (this.props.app.user) {\n      avatar = this.props.app.user.photoURL;\n      username = this.props.app.user.displayName\n    }\n\n    const menu = (\n      <Menu>\n        {this.props.app.user ?\n          <>\n            <Menu.Item icon={<HomeOutlined />} key=\"menu-home\">\n              <Link to={`/user/${this.props.app.user.uid}`}>Trang cá nhân</Link>\n            </Menu.Item>\n            <Menu.Item icon={<SettingOutlined />} key=\"menu-setting\">\n              <Link to='/setting'>Cài Đặt</Link>\n            </Menu.Item>\n            <Menu.Item icon={<LogoutOutlined />} key=\"menu-logout\">\n              <Link to='/logout'>Đăng xuất</Link>\n            </Menu.Item>\n          </>\n          :\n          <Menu.Item icon={<LoginOutlined />} key=\"menu-login\">\n            <Link to='/login'>Đăng nhập</Link>\n          </Menu.Item>\n        }\n      </Menu>\n    );\n    const dropdown1 = (\n      <Dropdown overlay={menu} placement=\"bottomCenter\" key=\"avatar\">\n        <Avatar shape=\"square\" size={45} icon={<Image src={avatar} preview={false} />} />\n      </Dropdown>\n    );\n    const dropdown2 = <Typography.Text strong key='username'>{username}</Typography.Text>;\n    const notification = (\n      <Dropdown overlay={\n        <Menu>\n          {this.props.app.notification.map(item =>\n            <Menu.Item key={`notification${item.key}`}>\n              <Link to={`/detail/${item.postId}`}>{item.message}</Link>\n            </Menu.Item>\n          )}\n        </Menu>\n      } placement=\"bottomCenter\" key='notification'>\n        <BellOutlined className='fs-3 pt-2' />\n      </Dropdown>\n    )\n\n    return (\n      <PageHeader className=\"p-0 my-0\" title={<Image width={45} height={45} src={lotus} preview={false} />}\n        subTitle={<Typography.Text key='home' strong><Link className='text-volcano' to='/'>Home</Link></Typography.Text>}\n        extra={[notification, dropdown2, dropdown1]} />\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Header);\n\n","import 'firebase/database';\nimport firebase from './firebase'\n\nconst database = firebase.database();\nexport async function getRowOneTimeAsync(ref) {\n    let rs = await database.ref(ref).once('value');\n    return rs.val();\n}\nexport function getRowOneTime(ref, action) {\n    database.ref(ref).once('value').then(rs => action(rs.val()))\n}\nexport function getChild(ref, child, action) {\n    database.ref(ref).child(child).on('value', rs => action(rs.val()))\n}\nexport function getRow(ref, action) {\n    database.ref(ref).on('value', rs => action(rs.val()))\n}\nexport function getRowFromLastOneTime(ref, number, action) {\n    database.ref(ref).limitToLast(number).once('value').then(rs => action(rs.val()))\n}\nexport function getRowFromFirst(ref, number, action) {\n    database.ref(ref).limitToFirst(number).on('value', rs => action(rs.val()))\n}\nexport function getRowFromLast(ref, number, action) {\n    database.ref(ref).limitToLast(number).on('value', rs => action(rs.val()))\n}\nexport function getRowByParrentIdFromLastOneTime(ref, number, name, id, action) {\n    database.ref(ref).orderByChild(name).equalTo(id).limitToLast(number).once('value').then(rs => action && action(rs.val()))\n}\nexport async function getRowByParrentIdOneTimeAsync(ref, name, id) {\n    let rs = await database.ref(ref).orderByChild(name).equalTo(id).once('value')\n    return rs.val();\n}\nexport function getRowByParrentIdOneTime(ref, name, id, action) {\n    database.ref(ref).orderByChild(name).equalTo(id).once('value').then(rs => action && action(rs.val()))\n}\nexport function getRowByParrentId(ref, name, id, action) {\n    database.ref(ref).orderByChild(name).equalTo(id).on('value', rs => action && action(rs.val()))\n}\nexport function addRow(ref, data, action) {\n    let rs = database.ref(ref).push(data)\n    rs.then(result => action && action(result))\n    return rs.key;\n}\nexport function deleteRow(ref, id, action) {\n    database.ref(ref).child(id).remove().then(rs => action && action(rs))\n}\nexport function editRow(ref, id, data, action) {\n    database.ref(ref).child(id).update(data).then(rs => action && action(rs))\n}\n","import 'firebase/storage';\nimport firebase from './firebase'\n\nconst storage = firebase.storage();\n\nexport async function uploadFileAsync(path, file) {\n    let ref = storage.ref(path);\n    let rs = await ref.put(file)\n    let fullPath = rs._delegate.metadata.fullPath;\n    let url = await storage.ref(fullPath).getDownloadURL()\n    return {fullPath, url};\n}\nexport function uploadFile(path, file, action) {\n    let ref = storage.ref(path);\n    ref.put(file).then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    });\n}\nexport async function uploadFileFromStringAsync(path, string) {\n    let ref = storage.ref(path);\n    let rs = await ref.putString(string, 'data_url')\n    let fullPath = rs._delegate.metadata.fullPath;\n    let url = await storage.ref(fullPath).getDownloadURL()\n    return {fullPath, url};\n}\nexport function uploadFileFromString(path, string, action) {\n    let ref = storage.ref(path);\n    ref.putString(string, 'data_url').then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    })\n}\nexport function deleteFile(path) {\n    storage.ref(path).delete().catch(error => console.log(error));\n}\nexport function deleteByUrl(urls) {\n    urls.forEach(url => {\n        url = url.replace('https://firebasestorage.googleapis.com/v0/b/data-492da.appspot.com/o/images%2F', '')\n        url = url.split('?')\n        storage.ref(`/images/${url[0]}`).delete()\n    })\n}\n","import Output from 'editorjs-react-renderer';\nimport {Link} from 'react-router-dom'\nimport {Image, Avatar} from 'antd'\n\nexport function mapOne(item, key) {\n\tlet likes = []\n\tlet lks = item.likes;\n\tif (lks) {\n\t\tfor (let keyLike in lks) {\n\t\t\tlikes.push(lks[keyLike].uid);\n\t\t}\n\t}\n\treturn {\n\t\tkey: key,\n\t\tuid: item.userId,\n\t\tdate: item.date,\n\t\tauthor: item.author,\n\t\tavatar: <Link to={`/user/${item.userId}`}><Avatar icon={<Image src={item.avatar} preview={false} />} /></Link>,\n\t\tcontent: <Output data={item.content} />,\n\t\trawContent: item.content,\n\t\tlikes: likes\n\t}\n}\nexport function mapData(data) {\n\tlet dataset = []\n\tfor (let key in data) {\n\t\tif (data[key]) {\n\t\t\tlet map = mapOne(data[key], key);\n\t\t\tdataset.unshift(map);\n\t\t}\n\t}\n\treturn dataset;\n}\n\nexport function toBase64(file) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => resolve(reader.result);\n\t\treader.onerror = error => reject(error);\n\t})\n};\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom';\nimport {Comment, Row, Col, Card, Popconfirm, message} from 'antd';\nimport {DeleteOutlined, CommentOutlined, CaretUpOutlined, LoadingOutlined} from \"@ant-design/icons\";\nimport {getRowOneTimeAsync, getRowByParrentIdOneTime, getRow, deleteRow, addRow} from '../../../services/firebase/database'\nimport {deleteByUrl} from '../../../services/firebase/storage';\nimport {mapOne} from '../../../services/helper/mapper'\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {comments: [], post: null, loading: true}\n    this.delete = this.delete.bind(this)\n  }\n  componentDidMount() {\n    getRow(`/posts/${this.props.data}`, rs => {\n      if (rs) {\n        this.setState({post: mapOne(rs, this.props.data), loading: false});\n      }\n    })\n  }\n  async delete() {\n    let parrentId = this.props.data\n    let rs = await getRowOneTimeAsync(`/posts/${parrentId}`)\n    let images = rs.content.blocks.filter(item => item.type === 'image').map(item => item.data.file.url)\n      .filter(item => item.includes('firebasestorage.googleapis.com'));\n    deleteByUrl(images);\n    deleteRow('/posts/', parrentId, () => {\n      getRowByParrentIdOneTime('/comments/', 'postId', parrentId, comments => {\n        for (let key in comments) {\n          deleteRow('/comments/', key)\n          let imgs = comments[key].content.blocks.filter(item => item.type === 'image').map(item => item.data.file.url)\n            .filter(item => item.includes('firebasestorage.googleapis.com'));\n          deleteByUrl(imgs);\n        }\n      })\n      this.props.load()\n      message.info('Xoá thành công');\n    });\n  }\n  vote = (post) => {\n    getRowByParrentIdOneTime(`/posts/${post.key}/likes`, 'uid', this.props.app.user.uid, rs => {\n      if (rs) {\n        for (let key in rs) {\n          deleteRow(`/posts/${post.key}/likes`, key, null)\n        }\n      } else {\n        addRow(`/posts/${post.key}/likes`, {uid: this.props.app.user.uid}, null);\n      }\n    })\n  }\n  render() {\n    let post = this.state.post\n    if (this.state.post) {\n      let uid = this.props.app.user.uid\n      let isWriter = uid === post.uid\n      let liked = post.likes.includes(uid)\n      let actions = [\n        <div className='flex-center' key='like'><CaretUpOutlined className={`action-icon mr-1 ${liked && \"text-volcano\"}`}\n          onClick={() => this.vote(post)} />{<p className='number-like-action'>{post.likes.length}</p>}</div>,\n        <Link to={`/detail/${post.key}`} key='comments'><CommentOutlined className='action-icon text-mute' /></Link>,\n      ]\n      isWriter && actions.push(\n        <Popconfirm title=\"Bạn có muốn xoá bài viết này không?\" onConfirm={this.delete} okText=\"Có\" cancelText=\"Không\" key='delete'>\n          <DeleteOutlined className='action-icon' />\n        </Popconfirm>)\n      return (\n        <Row justify=\"center\" className='mb-4'>\n          <Col xl={10} lg={14} md={18} sm={22} xs={24}>\n            <Card actions={actions} title={\n              <Comment author={<p className='author-name'>{post.author}</p>} avatar={post.avatar} datetime={post.date} />\n            }>\n              <Row>\n                <Col span={24} justify=\"center\">\n                  {post.content}\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      );\n    } else {\n      return <LoadingOutlined />;\n    }\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Post);\n\n","import React, {Component} from \"react\";\nimport EditorJS from '@editorjs/editorjs';\nimport {Comment, Card, Image} from 'antd';\nimport {uploadFileFromStringAsync} from '../../services/firebase/storage';\nimport {ClearOutlined, SendOutlined} from \"@ant-design/icons\";\nimport {toBase64} from '../../services/helper/mapper';\nimport {editorTools} from './editorTools';\n\nexport default class Editor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {editor: null}\n\t\tthis.uploadByFile = this.uploadByFile.bind(this);\n\t\tthis.submit = this.submit.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tconst editor = new EditorJS({\n\t\t\tholder: this.props.id,\n\t\t\tlogLevel: 'ERROR',\n\t\t\ttools: editorTools(this.uploadByFile, this.uploadByUrl)\n\t\t});\n\t\tthis.setState({editor: editor})\n\t}\n\tasync submit() {\n\t\tif (this.props.submit) {\n\t\t\tconst content = await this.state.editor.save()\n\t\t\tconst base64regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n\t\t\tconst blocks = content.blocks.filter(block => block.type === 'image')\n\t\t\tfor (let i = 0; i < blocks.length; i++) {\n\t\t\t\tconst block = blocks[i];\n\t\t\t\tif (base64regex.test(block.data.file.url.replace(/^data:image\\/[a-z]+;base64,/, \"\"))) {\n\t\t\t\t\tconst rs = await uploadFileFromStringAsync(`/images/${Date.now()}.png`, block.data.file.url);\n\t\t\t\t\tblock.data.file.url = rs.url\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.props.submit({comment: content})\n\t\t\tthis.state.editor.clear();\n\t\t}\n\t}\n\tasync uploadByFile(file) {\n\t\tlet data = await toBase64(file);\n\t\treturn {\n\t\t\tsuccess: 1,\n\t\t\tfile: {\n\t\t\t\turl: data\n\t\t\t}\n\t\t}\n\t}\n\tasync uploadByUrl(url) {\n\t\treturn {\n\t\t\tsuccess: 1,\n\t\t\tfile: {\n\t\t\t\turl: url\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tconst user = this.props.user;\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tactions={[\n\t\t\t\t\t<SendOutlined key='send' onClick={this.submit} className='action-icon' />,\n\t\t\t\t\t<ClearOutlined key='img' className='action-icon' onClick={() => this.state.editor.clear()} />,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Comment author={<p className='author-name'>{user.displayName}</p>} avatar={<Image src={user.photoURL} preview={false} />} />\n\t\t\t\t<div className='editor-container border mb-2' id={this.props.id}>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t)\n\t}\n}\n","import Paragraph from '@editorjs/paragraph';\nimport ImageTool from '@editorjs/image';\nimport Quote from '@editorjs/quote';\nimport Marker from '@editorjs/marker';\nimport InlineCode from '@editorjs/inline-code';\nimport ListTool from '@editorjs/list';\nimport Delimiter from '@editorjs/delimiter';\n\nexport function editorTools(uploadByFile, uploadByUrl) {\n    return {\n        delimiter: Delimiter,\n        paragraph: {class: Paragraph, inlineToolbar: true},\n        quote: {class: Quote, inlineToolbar: true},\n        marker: Marker,\n        inlineCode: InlineCode,\n        list: {class: ListTool, inlineToolbar: true},\n        image: {\n            class: ImageTool,\n            config: {uploader: {uploadByFile: uploadByFile, uploadByUrl: uploadByUrl}}\n        },\n    }\n}\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Row, Col, List} from \"antd\";\nimport {DownOutlined} from \"@ant-design/icons\";\nimport Post from \"./Post\";\nimport Editor from \"../../tool/Editor\";\nimport {addRow, getRowFromLastOneTime, getRowByParrentIdFromLastOneTime} from \"../../../services/firebase/database\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {posts: [], number: 5};\n    this.submit = this.submit.bind(this);\n  }\n  componentDidMount() {\n    this.load();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.uid !== this.props.match.params.uid) {\n      this.load();\n    }\n  }\n  loadMore = () => {\n    this.setState({number: this.state.number + 5});\n    this.load();\n  };\n  load = () => {\n    if (this.props.match.params.uid) {\n      getRowByParrentIdFromLastOneTime(\"/posts/\", this.state.number, 'userId', this.props.match.params.uid, (rs) => {\n        this.setState({posts: this.posts(rs)})\n      });\n    } else {\n      getRowFromLastOneTime(\"/posts/\", this.state.number, (rs) => {\n        this.setState({posts: this.posts(rs)})\n      });\n    }\n  }\n  posts = (data) => {\n    let keys = []\n    for (let key in data) {\n      keys.unshift(key)\n    }\n    return keys;\n  }\n  async submit(data) {\n    let post = {\n      userId: this.props.app.user.uid,\n      author: this.props.app.user.displayName,\n      avatar: this.props.app.user.photoURL,\n      content: data.comment,\n      date: new Date().toDateString()\n    };\n    addRow(\"/posts/\", post);\n    this.load()\n  };\n  render() {\n    return (\n      <>\n        <Row justify=\"center\" className=\"mb-4\">\n          <Col xl={10} lg={14} md={18} sm={22} xs={24}>\n            <Editor key={Math.random()} user={this.props.app.user}  submit={this.submit} id='post-edtior'/>\n          </Col>\n        </Row>\n        <List\n          dataSource={this.state.posts}\n          loadMore={<Row align=\"center\"><Col><DownOutlined onClick={this.loadMore} /></Col></Row>}\n          renderItem={(item) => <Post key={item} data={item} load={this.load} />}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Posts);\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Comment, Row, Col, Card, Popconfirm, message, List} from 'antd';\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {getRow, addRow, getRowByParrentIdOneTimeAsync, deleteRow, getRowByParrentId} from '../../../services/firebase/database'\nimport {deleteByUrl} from '../../../services/firebase/storage';\nimport {mapOne, mapData} from '../../../services/helper/mapper'\nimport Editor from '../../tool/Editor'\n\nclass Detail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {post: {}, comments: [], loading: true}\n    this.submit = this.submit.bind(this);\n  }\n  componentDidMount() {\n    let id = this.props.match.params.id\n    getRow(`/posts/${id}`, rs => {\n      if (rs) {\n        this.setState({loading: false, post: mapOne(rs, id)})\n      }\n    })\n    getRowByParrentId('/comments/', 'postId', id, rs => {\n      this.setState({comments: mapData(rs)})\n    })\n  }\n  async submit(data) {\n    let comment = {\n      postId: this.props.match.params.id,\n      userId: this.props.app.user.uid,\n      author: this.props.app.user.displayName,\n      avatar: this.props.app.user.photoURL,\n      content: data.comment,\n      date: new Date().toDateString()\n    }\n    addRow('/comments/', comment)\n    if (this.state.post.uid !== this.props.app.user.uid) {\n      let rs = await getRowByParrentIdOneTimeAsync(`/notification/${this.state.post.uid}`, 'postsId', this.props.app.user.uid)\n      console.log(rs)\n      let notification = {\n        uid: this.props.app.user.uid,\n        postId: this.props.match.params.id,\n        message: `${this.props.app.user.displayName} đã bình luận vào bài viết của bạn`\n      }\n      addRow(`/notification/${this.state.post.uid}`, notification)\n    }\n  }\n  delete = () => {\n    deleteRow('/posts/', this.props.data.key);\n  }\n  deleteComment(id, content) {\n    let images = content.blocks.filter(item => item.type === 'image').map(item => item.data.file.url).filter(item => item.includes('firebasestorage.googleapis.com'));\n    deleteByUrl(images);\n    deleteRow(`/comments/`, id);\n    message.info('Xoá thành công');\n  }\n  render() {\n    let post = this.state.post\n    let isWriter = this.props.app.user.uid === post.uid\n    if (this.state.loading) {return ''}\n    return (\n      <Row justify=\"center\" className='mb-4'>\n        <Col xl={16} lg={18} md={20} sm={22} xs={24}>\n          <Card title={<Comment author={post.author} avatar={post.avatar} datetime={post.date} />}>\n            <Row>\n              <Col span={24} justify=\"center\">\n                {post.content}\n              </Col>\n            </Row>\n            <Row>\n              <Col span={22} offset={1}>\n                <Editor key={post.key} id={post.key} user={this.props.app.user} submit={this.submit} />\n              </Col>\n            </Row>\n            <Row>\n              {\n                <Col span={22} offset={1}>\n                  {\n                    this.state.comments.length > 0 &&\n                    <List\n                      dataSource={this.state.comments}\n                      itemLayout=\"horizontal\"\n                      renderItem={props => {\n                        let canDelete = isWriter || props.uid === this.props.app.user.uid\n                        return <List.Item key={Math.random()}>\n                          <Col span={24} justify=\"center\">\n                            <Comment author={props.author} avatar={props.avatar} content={props.content}\n                              datetime={canDelete &&\n                                <Popconfirm title=\"Bạn có muốn xoá bài viết này không?\" onConfirm={() => this.deleteComment(props.key, props.rawContent)}\n                                  okText=\"Có\" cancelText=\"Không\" >\n                                  <DeleteOutlined />\n                                </Popconfirm>\n                              } />\n                          </Col>\n                        </List.Item>\n                      }\n                      }\n                    />\n                  }\n                </Col>\n              }\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Detail);\n","const initialState = {\n  user: {},\n  notification: []\n};\n\nconst template = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_NOTIFICATION\":\n      state.notification = action.data;\n      return {...state, notification: action.data};\n    case \"SET_USER\":\n      state.user = action.data;\n      return {...state, user: action.data};\n    default:\n      return state;\n  }\n};\n\nexport default template;\n","import {combineReducers} from 'redux';\nimport app from './app/app.reducer';\nexport default combineReducers({app});\n","import {createStore} from 'redux';\nimport combineReducers from './reducers/root.reducer';\n\nexport default createStore(combineReducers);\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport store from '../../../store';\nimport {setUser} from '../../../reducers/app/app.action'\nimport {Tabs, Avatar, Card, Image, Col, Row, Form, Input, Button, Upload, message} from 'antd'\nimport {getRowByParrentIdOneTimeAsync, editRow} from '../../../services/firebase/database';\nimport {updateDisplayName, updatePhotoUrl, getCurrentUser} from '../../../services/firebase/auth'\nimport {uploadFileAsync} from '../../../services/firebase/storage'\nclass Setting extends Component {\n  constructor(props) {\n    super(props);\n    this.finish = this.finish.bind(this);\n    this.upLoadFile = this.upLoadFile.bind(this);\n  }\n  async finish(event) {\n    let rs = await getRowByParrentIdOneTimeAsync('/posts/', 'userId', this.props.app.user.uid)\n    for (let key in rs) {\n      let post = rs[key];\n      post.author = event.username;\n      editRow('/posts/', key, post, null);\n    }\n    updateDisplayName(event.username, () => {\n      store.dispatch(setUser(getCurrentUser()))\n      message.success('Cập nhật thành công');\n    })\n  }\n  async upLoadFile(file) {\n    let rs = await uploadFileAsync(`/avatar/${this.props.app.user.uid}.png`, file)\n    let result = await getRowByParrentIdOneTimeAsync('/posts/', 'userId', this.props.app.user.uid)\n    for (let key in result) {\n      let post = result[key];\n      post.avatar = rs.url;\n      editRow('/posts/', key, post, null);\n    }\n    updatePhotoUrl(rs.url, () => {\n      store.dispatch(setUser(getCurrentUser()))\n      message.success('Cập nhật thành công');\n    })\n  }\n  render() {\n    return (\n      <Row justify='center'>\n        <Col>\n          <Tabs defaultActiveKey=\"1\" centered>\n            <Tabs.TabPane tab=\"Đổi tên người dùng\" key=\"1\">\n              <Card style={{width: 300, background: 'none'}}>\n                <Form size='middle' onFinish={this.finish}>\n                  <Form.Item name=\"username\">\n                    <Input />\n                  </Form.Item>\n\n                  <Form.Item wrapperCol={{offset: 3, span: 16}}>\n                    <Button type=\"primary\" htmlType=\"submit\"> Cập nhật tên người dùng </Button>\n                  </Form.Item>\n                </Form>\n              </Card>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Đổi ảnh đại diện\" key=\"2\">\n              <Card style={{width: 300, background: 'none'}}>\n                <Row justify='center'>\n                  <Col>\n                    <Avatar size={250} icon={<Image src={this.props.app.user.photoURL} preview={false} />} />\n                    <Row className='pt-3' justify='center'>\n                      <Col>\n                        <Upload fileList={[]} beforeUpload={(file) => {this.upLoadFile(file); return false;}}>\n                          <Button type='primary'>Cập nhật ảnh đại diện</Button>\n                        </Upload>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row >\n              </Card>\n            </Tabs.TabPane>\n          </Tabs>\n        </Col>\n      </Row >\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Setting);\n\n","import React, {Component} from \"react\";\nimport {Link} from 'react-router-dom'\nimport {Result, Button} from 'antd'\n\nexport default class NotFound extends Component {\n   render() {\n      return <Result\n         status=\"404\"\n         title=\"404\"\n         subTitle=\"Không tìm thấy trang yêu cầu!\"\n         extra={<Button type='primary'><Link to=\"/\">Về trang chủ</Link></Button>}\n      />\n   }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport Posts from \"./view/posts/Posts\";\nimport Detail from \"./view/posts/Detail\";\nimport Setting from \"./view/user/Setting\";\nimport NotFound from \"./layout/NotFound\";\n\nclass Routing extends Component {\n  render() {\n    return this.props.app.user == null ? (\n      <Redirect to=\"/accessDenied\" />\n    ) : (\n      <Switch>\n        <Route exact path=\"/\" component={Posts} />\n        <Route exact path=\"/user/:uid\" component={Posts} />\n        <Route exact path=\"/detail/:id\" component={Detail} />\n        <Route exact path=\"/setting\" component={Setting} />\n        <Route component={NotFound} />\n      </Switch>\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Routing);\n","import {Component} from \"react\";\nimport {loginWithGoogle} from '../../../services/firebase/auth';\n\nexport default class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tloginWithGoogle(() => this.props.history.push('/'));\n\t}\n\trender() {\n\t\treturn '';\n\t}\n}\n","import { Component } from \"react\";\nimport { signOut } from \"../../../services/firebase/auth\";\n\nexport default class Logout extends Component {\n  constructor(props) {\n    super(props);\n    signOut(() => this.props.history.push(\"/accessDenied\"));\n  }\n  render() {\n    return \"\";\n  }\n}\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {Result} from 'antd';\n\nclass AccessDenied extends Component {\n\trender() {\n\t\treturn this.props.app.user == null ? <Result status=\"403\" title=\"403\" subTitle=\"Bạn chưa đăng nhập!\" /> : <Redirect to='/' />;\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(AccessDenied);\n","import \"./css/app.scss\";\nimport \"antd/dist/antd.css\";\nimport React, {Component} from \"react\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\nimport {onUserStateChange} from \"./services/firebase/auth\";\nimport {setUser} from \"./reducers/app/app.action\";\nimport {Provider} from \"react-redux\";\nimport {Layout} from \"antd\";\nimport Header from \"./components/layout/Header\";\nimport Routing from \"./components/Routing\";\nimport Login from \"./components/view/user/Login\";\nimport Logout from \"./components/view/user/Logout\";\nimport AccessDenied from \"./components/layout/AccessDenied\";\nimport {getChild} from './services/firebase/database'\nimport {setNotification} from './reducers/app/app.action'\nimport store from \"./store\";\n\nclass App extends Component {\n  //constructor(props) {\n    //super(props);\n  //}\n  componentDidMount() {\n    onUserStateChange((user) => {\n      store.dispatch(setUser(user));\n      if (user) {\n        getChild(`/notification/`, user.uid, data => {\n          if (data) {\n            let noti = [];\n            for (let key in data) {\n              let mss = data[key]\n              mss.key = key\n              noti.push(mss);\n            }\n            store.dispatch(setNotification(noti));\n          }\n        })\n      }\n    });\n  }\n  render() {\n    return (\n      <Provider store={store}>\n        <HashRouter>\n          <Layout className=\"app\">\n            <Layout.Header className=\"px-3\" style={{backgroundColor: \"white\"}}>\n              <Header />\n            </Layout.Header>\n            <Layout.Content className=\"p-3\">\n              <Switch>\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/logout\" component={Logout} />\n                <Route exact path=\"/accessDenied\" component={AccessDenied} />\n                <Route path=\"/\" component={Routing} />\n              </Switch>\n            </Layout.Content>\n          </Layout>\n        </HashRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}