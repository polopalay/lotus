{"version":3,"sources":["firebase/firebase.js","firebase/auth.js","reducers/app/app.action.js","img/lotus.png","img/user.png","components/layout/Header.js","components/view/NotFound.js","firebase/database.js","firebase/storage.js","components/layout/Editor.js","components/view/posts/Post.js","helper/mapper.js","components/view/posts/Posts.js","reducers/app/app.reducer.js","reducers/root.reducer.js","store.js","components/view/user/Setting.js","components/view/Protected.js","components/view/user/Login.js","components/view/user/Logout.js","components/view/AccessDenied.js","App.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getCurrentUser","currentUser","updateDisplayName","data","action","user","updateProfile","displayName","then","updatePhotoUrl","photoURL","setUser","type","Header","username","avatar","userImg","this","props","menu","Item","icon","HomeOutlined","to","uid","SettingOutlined","LogoutOutlined","LoginOutlined","dropdown","overlay","placement","className","shape","size","src","preview","id","data-toggle","aria-haspopup","aria-expanded","title","width","height","lotus","subTitle","Text","strong","style","color","extra","Component","connect","store","NotFound","status","database","addRow","ref","push","key","deleteRow","child","remove","storage","uploadFile","path","file","put","rs","fullPath","_delegate","metadata","getDownloadURL","uploadFileFromString","string","putString","deleteFile","delete","catch","error","console","log","Editor","handleChange","event","saver","save","setState","value","reference","editor","submit","comment","state","images","clear","upload","files","target","i","fileReader","FileReader","onload","load","readAsDataURL","Date","now","result","forEach","img","actions","SendOutlined","onClick","FileImageOutlined","document","getElementById","click","author","onChange","instanceRef","justify","span","PreviewGroup","map","accept","hidden","Post","userId","content","link","image","message","info","comments","time","blocks","version","post","isWriter","xl","lg","md","sm","xs","datetime","onConfirm","okText","cancelText","DeleteOutlined","offset","dataSource","itemLayout","renderItem","canDelete","deleteComment","Math","random","mapData","dataset","item","imgs","keyImg","unshift","Posts","loadMore","number","setData","posts","prevProps","prevState","match","params","orderByChild","equalTo","on","val","limitToLast","getRowFromLast","initValue","align","DownOutlined","initialState","template","combineReducers","createStore","Setting","finish","dispatch","success","upLoadFile","defaultActiveKey","centered","TabPane","tab","background","onFinish","name","wrapperCol","htmlType","fileList","beforeUpload","UploadOutlined","Routing","exact","component","Login","provider","GoogleAuthProvider","signInWithPopup","loginWithGoogle","history","Logout","signOut","AccessDenied","App","onAuthStateChanged","backgroundColor","Content","Protected","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f3f674cf.chunk.js","sourcesContent":["import firebase from 'firebase/app';\n\nlet config = {\n    apiKey: \"AIzaSyAIYQGiQcSjZBw9LQ9LcR1yh8uDWtsMfgs\",\n    authDomain: \"data-492da.firebaseapp.com\",\n    databaseURL: \"https://data-492da.firebaseio.com\",\n    projectId: \"data-492da\",\n    storageBucket: \"data-492da.appspot.com\",\n    messagingSenderId: \"381903672681\",\n    appId: \"1:381903672681:web:813cffbc63da30d11f99f8\",\n    measurementId: \"G-CD4W02BEZ7\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(config);\n} else {\n    firebase.app();\n}\n\nexport default firebase;\n","import 'firebase/auth'\nimport firebase from './firebase';\n\nconst auth = firebase.auth();\n\nexport function onUserStateChange(action) {\n    auth.onAuthStateChanged((user) => action && action(user));\n}\n\nexport function getCurrentUser() {\n    return auth.currentUser;\n}\n\nexport function updateDisplayName(data, action) {\n    let user = firebase.auth().currentUser;\n    if (user) {\n        user.updateProfile({displayName: data}).then(() => action && action())\n    }\n}\n\nexport function updatePhotoUrl(data, action) {\n    let user = firebase.auth().currentUser;\n    if (user) {\n        user.updateProfile({photoURL: data}).then(() => action && action())\n    }\n}\n\nexport function loginWithGoogle(action) {\n    let provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider).then(rs => action && action(rs))\n}\n\nexport function signOut(action) {\n    auth.signOut().then(rs => action && action(rs))\n}\n\n","export const setUser = (data) => {\n    return {\n        data: data,\n        type: \"SET_USER\",\n    };\n};\n","export default __webpack_public_path__ + \"static/media/lotus.3d5db4fb.png\";","export default __webpack_public_path__ + \"static/media/user.b326dd92.png\";","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom';\nimport {Menu, PageHeader, Dropdown, Avatar, Image, Typography} from 'antd';\nimport {SettingOutlined, LogoutOutlined, LoginOutlined,HomeOutlined} from \"@ant-design/icons\";\nimport lotus from '../../img/lotus.png'\nimport userImg from '../../img/user.png'\n\nclass Header extends Component {\n  render() {\n    let avatar = userImg;\n    let username;\n    if (this.props.app.user) {\n      avatar = this.props.app.user.photoURL;\n      username = this.props.app.user.displayName\n    }\n\n    const menu = (\n      <Menu>\n        {this.props.app.user ?\n          <>\n            <Menu.Item icon={<HomeOutlined />} key=\"menu-setting\">\n              <Link to={`/user/${this.props.app.user.uid}`}>Trang cá nhân</Link>\n            </Menu.Item>\n            <Menu.Item icon={<SettingOutlined />} key=\"menu-setting\">\n              <Link to='/setting'>Cài Đặt</Link>\n            </Menu.Item>\n            <Menu.Item icon={<LogoutOutlined />} key=\"menu-logout\">\n              <Link to='/logout'>Đăng xuất</Link>\n            </Menu.Item>\n          </>\n          :\n          <Menu.Item icon={<LoginOutlined />} key=\"menu-setting\">\n            <Link to='/login'>Đăng nhập</Link>\n          </Menu.Item>\n        }\n      </Menu>\n    );\n    const dropdown = (\n      <Dropdown overlay={menu} placement=\"topRight\" key=\"header-dropdown\">\n        <Avatar\n          className=\"dropdown-toggle mt-2\"\n          shape=\"square\"\n          size={45}\n          icon={<Image src={avatar} preview={false} />}\n          id=\"dropdownMenuButton\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        />\n      </Dropdown>\n    );\n    return (\n      <PageHeader className=\"p-0 m-0\" title={<Image width={45} height={45} src={lotus} preview={false} />}\n        subTitle={<Typography.Text strong><Link style={{color: '#ff4d4f'}} to='/'>Home</Link></Typography.Text>}\n        extra={[<Typography.Text strong>{username}</Typography.Text>,\n          dropdown]} />\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Header);\n\n","import React, {Component} from \"react\";\nimport {Link} from 'react-router-dom'\nimport {Result, Button} from 'antd'\n\nexport default class NotFound extends Component {\n   render() {\n      return <Result\n         status=\"404\"\n         title=\"404\"\n         subTitle=\"Không tìm thấy trang yêu cầu!\"\n         extra={<Button type='primary'><Link to=\"/\">Về trang chủ</Link></Button>}\n      />\n   }\n}\n","import 'firebase/database';\nimport firebase from './firebase'\n\nconst database = firebase.database();\nexport function getRow(ref, action) {\n    database.ref(ref).on('value', rs => action(rs.val()))\n}\nexport function getRowFromFirst(ref, number, action) {\n    database.ref(ref).limitToFirst(number).on('value', rs => action(rs.val()))\n}\nexport function getRowFromLast(ref, number, action) {\n    database.ref(ref).limitToLast(number).on('value', rs => action(rs.val()))\n}\nexport function getRowByUserId(ref, id, action) {\n    //database.ref(ref).orderByChild('userId').equalTo(id).on('value', rs => action(rs.val()))\n    database.ref(ref).orderByChild('userId').equalTo(id).on('value', rs => action && action(rs.val()))\n}\nexport function addRow(ref, data) {\n    return database.ref(ref).push(data).key\n}\n\nexport function deleteRow(ref, id) {\n    database.ref(ref).child(id).remove()\n}\nexport function editRow(ref, id, data) {\n    database.ref(ref).child(id).update(data)\n}\n","import 'firebase/storage';\nimport firebase from './firebase'\n\nconst storage = firebase.storage();\n\nexport function uploadFile(path, file, action) {\n    let ref = storage.ref(path);\n    ref.put(file).then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    });\n}\nexport function uploadFileFromString(path, string, action) {\n    let ref = storage.ref(path);\n    ref.putString(string, 'data_url').then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    })\n}\n\nexport function deleteFile(path) {\n    storage.ref(path).delete().catch(error => console.log(error));\n}\n","import React, {Component} from \"react\";\nimport EditorJs from 'react-editor-js';\nimport {Comment, Card, Image, Row, Col} from 'antd';\nimport {FileImageOutlined, SendOutlined} from \"@ant-design/icons\";\nimport './editor.css';\n\nexport default class Editor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {value: {}, editor: {}, images: []}\n\t}\n\thandleChange = (event) => {\n\t\tevent.saver.save().then(data => this.setState({value: data}))\n\t}\n\treference = (editor) => {\n\t\tthis.setState({editor: editor})\n\t}\n\tsubmit = () => {\n\t\tif (this.props.submit) {\n\t\t\tthis.props.submit({comment: this.state.value, images: this.state.images})\n\t\t\tthis.state.editor.clear();\n\t\t\tthis.setState({images: []})\n\t\t}\n\t}\n\tupload = (event) => {\n\t\tif (this.state.images.length < 9) {\n\t\t\tlet files = event.target.files\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tconst fileReader = new FileReader();\n\t\t\t\tfileReader.onload = this.load\n\t\t\t\tfileReader.readAsDataURL(files[i]);\n\t\t\t}\n\t\t}\n\t}\n\tload = (rs) => {\n\t\tif (this.state.images.length < 9) {\n\t\t\tlet images = this.state.images;\n\t\t\timages.push({id: Date.now(), src: rs.target.result})\n\t\t\timages.forEach(img => {\n\t\t\t\tif (images.length === 1) {\n\t\t\t\t\timg.size = '100%'\n\t\t\t\t} else if (images.length > 1 && images.length <= 4) {\n\t\t\t\t\timg.size = '50%'\n\t\t\t\t} else if (images.length > 4) {\n\t\t\t\t\timg.size = '33.33%'\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.setState({images: images})\n\t\t}\n\t}\n\trender() {\n\t\tconst user = this.props.user\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tactions={[\n\t\t\t\t\t<SendOutlined key='send' onClick={this.submit} />,\n\t\t\t\t\t<FileImageOutlined key='img' onClick={() => document.getElementById(`uploader${this.props.id}`).click()} />,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Comment author={user.displayName} avatar={<Image src={user.photoURL} preview={false} />} />\n\t\t\t\t<div className='editor-container border mb-2'>\n\t\t\t\t\t<EditorJs onChange={this.handleChange} instanceRef={this.reference} />\n\t\t\t\t</div>\n\t\t\t\t<Row justify='center'>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<Image.PreviewGroup>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.images.map(img => <Image width={img.size} src={img.src} />)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Image.PreviewGroup>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<input type=\"file\" id={`uploader${this.props.id}`} accept=\"image/png, image/gif, image/jpeg\" onChange={this.upload} hidden />\n\t\t\t</Card>\n\t\t)\n\t}\n}\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Comment, Row, Col, List, Card, Image, Popconfirm, message} from 'antd';\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {addRow, deleteRow} from '../../../firebase/database'\nimport {uploadFileFromString} from '../../../firebase/storage';\nimport {deleteFile} from '../../../firebase/storage';\nimport Editor from '../../layout/Editor'\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {comments: [], comment: {time: 1624457156027, blocks: [], version: \"2.22.0\"}}\n  }\n  componentDidMount() {\n  }\n  submit = (data) => {\n    let comment = {\n      userId: this.props.app.user.uid,\n      author: this.props.app.user.displayName,\n      avatar: this.props.app.user.photoURL,\n      content: data.comment,\n    }\n    let key = addRow(`/posts/${this.props.data.key}/comments/`, comment)\n    data.images.forEach(img => {\n      let link = `/image-comments/${img.id}.png`\n      uploadFileFromString(link, img.src, (data) => addRow(`/posts/${this.props.data.key}/comments/${key}/images/`, {src: link, link: data}))\n    })\n  }\n  delete = () => {\n    let images = this.props.data.images;\n    images.forEach(image => deleteFile(image.src))\n    deleteRow('/posts/', this.props.data.key);\n    message.info('Xoá thành công');\n  }\n  deleteComment(id) {\n    let images = this.props.data.images;\n    images.forEach(image => deleteFile(image.src))\n    deleteRow(`/posts/${this.props.data.key}/comments/`, id);\n    message.info('Xoá thành công');\n  }\n  render() {\n    let post = this.props.data\n    let isWriter = this.props.app.user.uid === post.uid\n    return (\n      <Row justify=\"center\" className='mb-4'>\n        <Col xl={16} lg={18} md={20} sm={22} xs={24}>\n          <Card>\n            <Row>\n              <Col span={24} justify=\"center\">\n                <Comment author={post.author} avatar={post.avatar} content={post.content} datetime={\n                  <>\n                    {isWriter &&\n                      <Popconfirm title=\"Bạn có muốn xoá bài viết này không?\" onConfirm={this.delete} okText=\"Có\" cancelText=\"Không\" >\n                        <DeleteOutlined />\n                      </Popconfirm>\n                    }\n                  </>} />\n                <Row justify='center'>\n                  <Col span={12}>\n                    <Image.PreviewGroup>\n                      {post.images.map(img => <Image width={img.size} src={img.link} />)}\n                    </Image.PreviewGroup>\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={22} offset={1}>\n                {\n                  post.comments.length > 0 &&\n                  <List\n                    dataSource={post.comments}\n                    itemLayout=\"horizontal\"\n                    renderItem={props => {\n                      let canDelete = isWriter || props.uid === this.props.app.user.uid\n                      return <List.Item key={Math.random()}>\n                        <Col span={24} justify=\"center\">\n                          <Comment {...props} datetime={canDelete &&\n                            <Popconfirm title=\"Bạn có muốn xoá bài viết này không?\" onConfirm={() => this.deleteComment(props.key)} okText=\"Có\" cancelText=\"Không\" >\n                              <DeleteOutlined />\n                            </Popconfirm>\n                          } />\n                          <Row justify='center'>\n                            <Col span={12}>\n                              <Image.PreviewGroup>\n                                {props.images.map(img => <Image width={img.size} src={img.link} />)}\n                              </Image.PreviewGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                      </List.Item>\n                    }}\n                  />\n                }\n              </Col>\n            </Row>\n            <Row>\n              <Col span={22} offset={1}>\n                <Editor key={post.key} id={post.key} user={this.props.app.user} submit={this.submit} />\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Post);\n\n","import Output from 'editorjs-react-renderer';\nimport {Link} from 'react-router-dom'\nimport {Image, Avatar} from 'antd'\n\nexport function mapData(data) {\n\tlet dataset = []\n\tfor (let key in data) {\n\t\tlet item = data[key];\n\t\tlet images = []\n\t\tlet imgs = data[key].images\n\t\tif (imgs) {\n\t\t\tfor (let keyImg in imgs) {\n\t\t\t\tlet img = imgs[keyImg];\n\t\t\t\timg.id = keyImg;\n\t\t\t\timages.push(img)\n\t\t\t}\n\t\t}\n\t\timages.forEach(img => {\n\t\t\tif (images.length === 1) {\n\t\t\t\timg.size = '100%'\n\t\t\t} else if (images.length > 1 && images.length <= 4) {\n\t\t\t\timg.size = '50%'\n\t\t\t} else if (images.length > 4) {\n\t\t\t\timg.size = '33.33%'\n\t\t\t}\n\t\t})\n\t\tlet map = {\n\t\t\tkey: key,\n\t\t\tuid: item.userId,\n\t\t\tauthor: item.author,\n\t\t\tavatar: <Link to={`/user/${item.userId}`}><Avatar icon={<Image src={item.avatar} preview={false} />} /></Link>,\n\t\t\tcontent: <Output data={item.content} />,\n\t\t\timages: images\n\t\t}\n\t\tdataset.unshift(map);\n\t}\n\treturn dataset;\n}\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Row, Col, List} from \"antd\";\nimport {DownOutlined} from \"@ant-design/icons\";\nimport Post from \"./Post\";\nimport Editor from \"../../layout/Editor\";\nimport {uploadFileFromString} from \"../../../firebase/storage\";\nimport {\n  getRowFromLast,\n  addRow,\n  getRowByUserId,\n} from \"../../../firebase/database\";\nimport {mapData} from \"../../../helper/mapper\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {posts: [], number: 5};\n  }\n  componentDidMount() {\n    this.load();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.params.uid !== this.props.match.params.uid) {\n      this.load();\n    }\n  }\n  loadMore = () => {\n    this.setState({number: this.state.number + 5});\n    this.load();\n  };\n  load() {\n    if (this.props.match.params.uid) {\n      getRowByUserId(\"/posts/\", this.props.match.params.uid, (rs) => {\n        this.setData(rs);\n      });\n    } else {\n      getRowFromLast(\"/posts/\", this.state.number, (rs) => {\n        this.setData(rs);\n      });\n    }\n  }\n  setData = (rs) => {\n    let dataset = mapData(rs);\n    dataset.forEach((item) => (item.comments = mapData(rs[item.key].comments)));\n    this.setState({posts: dataset});\n  };\n  submit = (data) => {\n    let post = {\n      userId: this.props.app.user.uid,\n      author: this.props.app.user.displayName,\n      avatar: this.props.app.user.photoURL,\n      content: data.comment,\n    };\n    let key = addRow(\"/posts/\", post);\n    data.images.forEach((img) => {\n      let link = `/image-posts/${img.id}.png`;\n      uploadFileFromString(link, img.src, (data) =>\n        addRow(`/posts/${key}/images/`, {src: link, link: data})\n      );\n    });\n  };\n  render() {\n    return (\n      <>\n        <Row justify=\"center\" className=\"mb-4\">\n          <Col xl={12} lg={14} md={16} sm={18} xs={20}>\n            <Editor\n              key={Math.random()}\n              user={this.props.app.user}\n              initValue={this.state.comment}\n              submit={this.submit}\n            />\n          </Col>\n        </Row>\n        <List\n          dataSource={this.state.posts}\n          loadMore={\n            <Row align=\"center\">\n              <Col>\n                <DownOutlined onClick={this.loadMore} />\n              </Col>\n            </Row>\n          }\n          renderItem={(item) => <Post key={item.key} data={item} />}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Posts);\n","const initialState = {\n  user: {}\n};\n\nconst template = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_USER\":\n      state.user = action.data;\n      return {...state, user: action.data};\n    default:\n      return state;\n  }\n};\n\nexport default template;\n","import {combineReducers} from 'redux';\nimport app from './app/app.reducer';\nexport default combineReducers({app});\n","import {createStore} from 'redux';\nimport combineReducers from './reducers/root.reducer';\n\nexport default createStore(combineReducers);\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport store from '../../../store';\nimport {setUser} from '../../../reducers/app/app.action'\nimport {Tabs, Avatar, Card, Image, Col, Row, Form, Input, Button, Upload, message} from 'antd'\nimport {UploadOutlined} from '@ant-design/icons';\nimport {updateDisplayName, updatePhotoUrl, getCurrentUser} from '../../../firebase/auth'\nimport {uploadFile} from '../../../firebase/storage'\nclass Setting extends Component {\n  finish = (event) => {\n    console.log(event.username);\n    updateDisplayName(event.username, () => {\n      store.dispatch(setUser(getCurrentUser()))\n      message.success('Cập nhật thành công');\n    })\n  }\n  upLoadFile = (file) => {\n    uploadFile(`/avatar/${this.props.app.user.uid}.png`, file, (rs) => {\n      updatePhotoUrl(rs, () => {\n        store.dispatch(setUser(getCurrentUser()))\n        message.success('Cập nhật thành công');\n      })\n    })\n  }\n  render() {\n    return (\n      <Row justify='center'>\n        <Col>\n          <Tabs defaultActiveKey=\"1\" centered>\n            <Tabs.TabPane tab=\"Tab 1\" key=\"1\">\n              <Card style={{width: 300, background: 'none'}}>\n                <Form size='middle' onFinish={this.finish}>\n                  <Form.Item name=\"username\">\n                    <Input />\n                  </Form.Item>\n\n                  <Form.Item wrapperCol={{offset: 3, span: 16}}>\n                    <Button type=\"primary\" htmlType=\"submit\"> Cập nhật tên người dùng </Button>\n                  </Form.Item>\n                </Form>\n              </Card>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Tab 2\" key=\"2\">\n              <Card style={{width: 300, background: 'none'}}>\n                <Row justify='center'>\n                  <Col>\n                    <Avatar size={250} icon={<Image src={this.props.app.user.photoURL} preview={false} />} />\n                    <Row className='pt-3' justify='center'>\n                      <Col>\n                        <Upload fileList={[]} beforeUpload={(file) => {this.upLoadFile(file); return false;}}>\n                          <Button type='primary' icon={<UploadOutlined />}>Upload file</Button>\n                        </Upload>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row >\n              </Card>\n            </Tabs.TabPane>\n          </Tabs>\n        </Col>\n      </Row >\n    );\n  }\n}\nconst mapStateToProps = (store) => {\n  return {\n    app: store.app,\n  };\n};\nexport default connect(mapStateToProps)(Setting);\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport NotFound from './NotFound';\nimport Posts from './posts/Posts'\nimport Setting from './user/Setting'\n\nclass Routing extends Component {\n\trender() {\n\t\treturn this.props.app.user == null ? <Redirect to=\"/acessDenied\" /> : <Switch>\n\t\t\t<Route exact path='/' component={Posts} />\n\t\t\t<Route exact path='/user/:uid' component={Posts} />\n\t\t\t<Route exact path='/setting' component={Setting} />\n\t\t\t<Route component={NotFound} />\n\t\t</Switch>\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(Routing);\n","import {Component} from \"react\";\nimport {loginWithGoogle} from '../../../firebase/auth';\n\nexport default class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tloginWithGoogle(() => this.props.history.push('/'));\n\t}\n\trender() {\n\t\treturn '';\n\t}\n}\n","import {Component} from \"react\";\nimport {signOut} from '../../../firebase/auth';\n\nexport default class Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tsignOut(() => this.props.history.push('/acessDenied'));\n\t}\n\trender() {\n\t\treturn '';\n\t}\n}\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {Result} from 'antd';\n\nclass AccessDenied extends Component {\n\trender() {\n\t\treturn this.props.app.user == null ? <Result status=\"403\" title=\"403\" subTitle=\"Bạn chưa đăng nhập!\" /> : <Redirect to='/' />;\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(AccessDenied);\n","import './App.css';\nimport 'antd/dist/antd.css';\nimport React, {Component} from \"react\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\nimport {onUserStateChange} from './firebase/auth'\nimport {setUser} from './reducers/app/app.action'\nimport {Provider} from \"react-redux\";\nimport {Layout} from 'antd';\nimport Header from './components/layout/Header';\nimport Protected from './components/view/Protected'\nimport Login from './components/view/user/Login'\nimport Logout from './components/view/user/Logout'\nimport AccessDenied from './components/view/AccessDenied'\nimport store from './store';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tonUserStateChange(user => {\n\t\t\tstore.dispatch(setUser(user))\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<Layout className=\"app\">\n\t\t\t\t\t\t<Layout.Header className=\"px-3\" style={{backgroundColor: \"white\"}}>\n\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t</Layout.Header>\n\t\t\t\t\t\t<Layout.Content className=\"p-3\">\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/login' component={Login} />\n\t\t\t\t\t\t\t\t<Route exact path='/logout' component={Logout} />\n\t\t\t\t\t\t\t\t<Route exact path='/acessDenied' component={AccessDenied} />\n\t\t\t\t\t\t\t\t<Route path=\"/\" component={Protected} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</Layout.Content>\n\t\t\t\t\t</Layout>\n\t\t\t\t</HashRouter>\n\t\t\t</Provider>);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}