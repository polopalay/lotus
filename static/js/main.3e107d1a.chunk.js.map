{"version":3,"sources":["firebase/firebase.js","firebase/auth.js","reducers/app/app.action.js","img/lotus.png","img/user.png","components/layout/Header.js","components/layout/Footer.js","components/view/NotFound.js","firebase/database.js","firebase/storage.js","components/layout/Editor.js","components/view/posts/Post.js","helper/mapper.js","components/view/posts/Posts.js","components/view/Protected.js","components/view/user/Login.js","components/view/user/Logout.js","components/view/AccessDenied.js","reducers/app/app.reducer.js","reducers/root.reducer.js","store.js","App.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","onUserStateChange","action","onAuthStateChanged","user","Header","props","state","avatar","userImg","setState","photoURL","menu","this","Item","icon","LoginOutlined","to","LogoutOutlined","dropdown","overlay","placement","className","size","src","preview","id","data-toggle","aria-haspopup","aria-expanded","title","width","height","lotus","subTitle","Text","strong","style","color","extra","Component","Footer","NotFound","status","type","database","addRow","ref","data","push","key","deleteRow","child","remove","storage","uploadFileFromString","path","string","putString","then","rs","fullPath","_delegate","metadata","getDownloadURL","deleteFile","delete","catch","error","console","log","Editor","handleChange","event","saver","save","value","reference","editor","submit","comment","images","clear","upload","files","target","i","fileReader","FileReader","onload","load","readAsDataURL","Date","now","result","forEach","img","actions","SendOutlined","onClick","FileImageOutlined","document","getElementById","click","author","displayName","onChange","instanceRef","PreviewGroup","map","accept","hidden","Post","userId","uid","content","link","image","message","info","comments","time","blocks","version","post","isWriter","justify","xl","lg","md","sm","xs","span","datetime","DeleteOutlined","offset","dataSource","itemLayout","renderItem","canDelete","deleteComment","Math","random","connect","store","mapData","dataset","item","imgs","keyImg","unshift","Posts","loadMore","number","posts","limitToLast","on","val","initValue","align","DownOutlined","Routing","exact","component","Login","provider","GoogleAuthProvider","signInWithPopup","loginWithGoogle","history","Logout","signOut","AccessDenied","initialState","template","combineReducers","createStore","App","dispatch","backgroundColor","Content","Protected","textAlign","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3e107d1a.chunk.js","sourcesContent":["import firebase from 'firebase/app';\n\nlet config = {\n    apiKey: \"AIzaSyAIYQGiQcSjZBw9LQ9LcR1yh8uDWtsMfgs\",\n    authDomain: \"data-492da.firebaseapp.com\",\n    databaseURL: \"https://data-492da.firebaseio.com\",\n    projectId: \"data-492da\",\n    storageBucket: \"data-492da.appspot.com\",\n    messagingSenderId: \"381903672681\",\n    appId: \"1:381903672681:web:813cffbc63da30d11f99f8\",\n    measurementId: \"G-CD4W02BEZ7\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(config);\n} else {\n    firebase.app();\n}\n\nexport default firebase;\n","import 'firebase/auth'\nimport firebase from './firebase';\n\nconst auth = firebase.auth();\n\nexport function onUserStateChange(action) {\n    auth.onAuthStateChanged((user) => action && action(user));\n}\n\nexport function loginWithGoogle(action) {\n    let provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider).then(rs => action && action(rs))\n}\n\nexport function signOut(action) {\n    auth.signOut().then(rs => action && action(rs))\n}\n\n","export const setUser = (data) => {\n    return {\n        data: data,\n        type: \"SET_USER\",\n    };\n};\n","export default __webpack_public_path__ + \"static/media/lotus.3d5db4fb.png\";","export default __webpack_public_path__ + \"static/media/user.b326dd92.png\";","import React, {Component} from \"react\";\nimport {Link} from 'react-router-dom';\nimport {Menu, PageHeader, Dropdown, Avatar, Image, Typography} from 'antd';\nimport {LogoutOutlined, LoginOutlined} from \"@ant-design/icons\";\nimport {onUserStateChange} from '../../firebase/auth'\nimport lotus from '../../img/lotus.png'\nimport userImg from '../../img/user.png'\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {avatar: userImg, user: null};\n  }\n\n  componentDidMount() {\n    onUserStateChange((user) => {\n      if (user != null) {\n        this.setState({avatar: user.photoURL, user: user})\n      }\n      else {\n        this.setState({avatar: userImg, user: null});\n      }\n    })\n  }\n\n  render() {\n    const menu = (\n      <Menu>\n        {this.state.user === null ?\n          <Menu.Item icon={<LoginOutlined />} key=\"menu-setting\">\n            <Link to='/login'>Đăng nhập</Link>\n          </Menu.Item> :\n          <Menu.Item icon={<LogoutOutlined />} key=\"menu-logout\">\n            <Link to='/logout'>Đăng xuất</Link>\n          </Menu.Item>\n        }\n      </Menu>\n    );\n    const dropdown = (\n      <Dropdown overlay={menu} placement=\"topRight\" key=\"header-dropdown\">\n        <Avatar\n          className=\"dropdown-toggle mt-2\"\n          size={45}\n          icon={<Image src={this.state.avatar} preview={false} />}\n          id=\"dropdownMenuButton\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        />\n      </Dropdown>\n    );\n    return (\n      <PageHeader className=\"p-0\" title={\n        <Image width={45} height={45} src={lotus} preview={false} />\n      } subTitle={<Typography.Text strong><Link style={{color:'#000000'}} to='/'>Home</Link></Typography.Text>} extra={[dropdown]} />\n    );\n  }\n}\n","import {Component} from \"react\";\n\nexport default class Footer extends Component {\n  render() {\n    return \"Ant Design ©2018 Created by Ant UED\";\n  }\n}\n\n","import React, {Component} from \"react\";\nimport {Link} from 'react-router-dom'\nimport {Result, Button} from 'antd'\n\nexport default class NotFound extends Component {\n   render() {\n      return <Result\n         status=\"404\"\n         title=\"404\"\n         subTitle=\"Không tìm thấy trang yêu cầu!\"\n         extra={<Button type='primary'><Link to=\"/\">Về trang chủ</Link></Button>}\n      />\n   }\n}\n","import 'firebase/database';\nimport firebase from './firebase'\n\nconst database = firebase.database();\nexport function getRow(ref, action) {\n    database.ref(ref).on('value', rs => action(rs.val()))\n}\nexport function getRowFromFirst(ref, number, action) {\n    database.ref(ref).limitToFirst(number).on('value', rs => action(rs.val()))\n}\nexport function getRowFromLast(ref, number, action) {\n    database.ref(ref).limitToLast(number).on('value', rs => action(rs.val()))\n}\nexport function addRow(ref, data) {\n    return database.ref(ref).push(data).key\n}\n\nexport function deleteRow(ref, id) {\n    database.ref(ref).child(id).remove()\n}\n\nexport function editRow(ref, id, data) {\n    database.ref(ref).child(id).update(data)\n}\n\nexport function demo() {\n    //database.ref().child('posts').push({demo: ''}).then(rs=>console.log(rs));\n    //database.ref('posts').once('value', snap => {\n    //if (!snap.exists()) {\n    //}\n    //})\n}\n","import 'firebase/storage';\nimport firebase from './firebase'\n\nconst storage = firebase.storage();\n\nexport function uploadFile(path, file, action) {\n    let ref = storage.ref(path);\n    ref.put(file).then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    });\n}\nexport function uploadFileFromString(path, string, action) {\n    let ref = storage.ref(path);\n    ref.putString(string, 'data_url').then(rs => {\n        if (action) {\n            let fullPath = rs._delegate.metadata.fullPath;\n            storage.ref(fullPath).getDownloadURL().then(rs => action(rs))\n        }\n    })\n}\n\nexport function deleteFile(path) {\n    storage.ref(path).delete().catch(error => console.log(error));\n}\n","import React, {Component} from \"react\";\nimport EditorJs from 'react-editor-js';\nimport {Comment, Card, Image} from 'antd';\nimport {FileImageOutlined, SendOutlined} from \"@ant-design/icons\";\nimport './editor.css';\n\nexport default class Editor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {value: {}, editor: {}, images: []}\n\t}\n\thandleChange = (event) => {\n\t\tevent.saver.save().then(data => this.setState({value: data}))\n\t}\n\treference = (editor) => {\n\t\tthis.setState({editor: editor})\n\t}\n\tsubmit = () => {\n\t\tif (this.props.submit) {\n\t\t\tthis.props.submit({comment: this.state.value, images: this.state.images})\n\t\t\tthis.state.editor.clear();\n\t\t\tthis.setState({images: []})\n\t\t}\n\t}\n\tupload = (event) => {\n\t\tif (this.state.images.length < 9) {\n\t\t\tlet files = event.target.files\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tconst fileReader = new FileReader();\n\t\t\t\tfileReader.onload = this.load\n\t\t\t\tfileReader.readAsDataURL(files[i]);\n\t\t\t}\n\t\t}\n\t}\n\tload = (rs) => {\n\t\tif (this.state.images.length < 9) {\n\t\t\tlet images = this.state.images;\n\t\t\timages.push({id: Date.now(), src: rs.target.result})\n\t\t\timages.forEach(img => {\n\t\t\t\tif (images.length === 1) {\n\t\t\t\t\timg.size = '100%'\n\t\t\t\t} else if (images.length > 1 && images.length <= 4) {\n\t\t\t\t\timg.size = '50%'\n\t\t\t\t} else if (images.length > 4) {\n\t\t\t\t\timg.size = '33.33%'\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.setState({images: images})\n\t\t}\n\t}\n\trender() {\n\t\tconst user = this.props.user\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tactions={[\n\t\t\t\t\t<SendOutlined key='send' onClick={this.submit} />,\n\t\t\t\t\t<FileImageOutlined key='img' onClick={() => document.getElementById(`uploader${this.props.id}`).click()} />,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Comment author={user.displayName} avatar={<Image src={user.photoURL} preview={false} />} />\n\t\t\t\t<div className='editor-container border'>\n\t\t\t\t\t<EditorJs onChange={this.handleChange} instanceRef={this.reference} />\n\t\t\t\t</div>\n\t\t\t\t<Image.PreviewGroup>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.images.map(img => <Image width={img.size} src={img.src} />)\n\t\t\t\t\t}\n\t\t\t\t</Image.PreviewGroup>\n\t\t\t\t<input type=\"file\" id={`uploader${this.props.id}`} accept=\"image/png, image/gif, image/jpeg\" onChange={this.upload} hidden />\n\t\t\t</Card>\n\t\t)\n\t}\n}\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Comment, Row, Col, List, Card, Image, message} from 'antd';\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {addRow, deleteRow} from '../../../firebase/database'\nimport {uploadFileFromString} from '../../../firebase/storage';\nimport {deleteFile} from '../../../firebase/storage';\nimport Editor from '../../layout/Editor'\n\nclass Post extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {comments: [], comment: {time: 1624457156027, blocks: [], version: \"2.22.0\"}}\n\t}\n\tcomponentDidMount() {\n\t}\n\tsubmit = (data) => {\n\t\tlet comment = {\n\t\t\tuserId: this.props.app.user.uid,\n\t\t\tauthor: this.props.app.user.displayName,\n\t\t\tavatar: this.props.app.user.photoURL,\n\t\t\tcontent: data.comment,\n\t\t}\n\t\tlet key = addRow(`/posts/${this.props.data.key}/comments/`, comment)\n\t\tdata.images.forEach(img => {\n\t\t\tlet link = `/image-comments/${img.id}.png`\n\t\t\tuploadFileFromString(link, img.src, (data) => addRow(`/posts/${this.props.data.key}/comments/${key}/images/`, {src: link, link: data}))\n\t\t})\n\t}\n\tdelete = () => {\n\t\tlet images = this.props.data.images;\n\t\timages.forEach(image => deleteFile(image.src))\n\t\tdeleteRow('/posts/', this.props.data.key);\n\t\tmessage.info('Xoá thành công');\n\t}\n\tdeleteComment(id) {\n\t\tlet images = this.props.data.images;\n\t\timages.forEach(image => deleteFile(image.src))\n\t\tdeleteRow(`/posts/${this.props.data.key}/comments/`, id);\n\t\tmessage.info('Xoá thành công');\n\t}\n\trender() {\n\t\tlet post = this.props.data\n\t\tlet isWriter = this.props.app.user.uid === post.uid\n\t\treturn (\n\t\t\t<Row justify=\"center\" className='mb-4'>\n\t\t\t\t<Col xl={16} lg={18} md={20} sm={22} xs={24}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col span={24} justify=\"center\">\n\t\t\t\t\t\t\t\t<Comment author={post.author} avatar={post.avatar} content={post.content} datetime={\n\t\t\t\t\t\t\t\t\t<>{isWriter && <DeleteOutlined onClick={this.delete} />}</>} />\n\t\t\t\t\t\t\t\t<Row justify='center'>\n\t\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t\t<Image.PreviewGroup>\n\t\t\t\t\t\t\t\t\t\t\t{post.images.map(img => <Image width={img.size} src={img.link} />)}\n\t\t\t\t\t\t\t\t\t\t</Image.PreviewGroup>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col span={22} offset={1}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpost.comments.length > 0 &&\n\t\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\t\tdataSource={post.comments}\n\t\t\t\t\t\t\t\t\t\titemLayout=\"horizontal\"\n\t\t\t\t\t\t\t\t\t\trenderItem={props => {\n\t\t\t\t\t\t\t\t\t\t\tlet canDelete = isWriter || props.uid === this.props.app.user.uid\n\t\t\t\t\t\t\t\t\t\t\treturn <List.Item key={Math.random()}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col span={24} justify=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment {...props} datetime={canDelete && <DeleteOutlined onClick={() => this.deleteComment(props.key)} />} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row justify='center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image.PreviewGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{props.images.map(img => <Image width={img.size} src={img.link} />)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Image.PreviewGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col span={22} offset={1}>\n\t\t\t\t\t\t\t\t<Editor key={post.key} id={post.key} user={this.props.app.user} submit={this.submit} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(Post);\n\n","import Output from 'editorjs-react-renderer';\nexport function mapData(data) {\n\tlet dataset = []\n\tfor (let key in data) {\n\t\tlet item = data[key];\n\t\tlet images = []\n\t\tlet imgs = data[key].images\n\t\tif (imgs) {\n\t\t\tfor (let keyImg in imgs) {\n\t\t\t\tlet img = imgs[keyImg];\n\t\t\t\timg.id = keyImg;\n\t\t\t\timages.push(img)\n\t\t\t}\n\t\t}\n\t\timages.forEach(img => {\n\t\t\tif (images.length === 1) {\n\t\t\t\timg.size = '100%'\n\t\t\t} else if (images.length > 1 && images.length <= 4) {\n\t\t\t\timg.size = '50%'\n\t\t\t} else if (images.length > 4) {\n\t\t\t\timg.size = '33.33%'\n\t\t\t}\n\t\t})\n\t\tlet map = {\n\t\t\tkey: key,\n\t\t\tuid: item.userId,\n\t\t\tauthor: item.author,\n\t\t\tavatar: item.avatar,\n\t\t\tcontent: <Output data={item.content} />,\n\t\t\timages: images\n\t\t}\n\t\tdataset.unshift(map);\n\t}\n\treturn dataset;\n}\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Row, Col, List} from 'antd';\nimport {DownOutlined} from \"@ant-design/icons\";\nimport Post from './Post';\nimport Editor from '../../layout/Editor'\nimport {uploadFileFromString} from '../../../firebase/storage';\nimport {getRowFromLast, addRow} from '../../../firebase/database'\nimport {mapData} from '../../../helper/mapper'\n\nclass Posts extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {posts: [], number: 5}\n\t}\n\tcomponentDidMount() {\n\t\tthis.load()\n\t}\n\tloadMore = () => {\n\t\tthis.setState({number: this.state.number + 1})\n\t\tthis.load();\n\t}\n\tload() {\n\t\tgetRowFromLast('/posts/', this.state.number, rs => {\n\t\t\tlet dataset = mapData(rs);\n\t\t\tdataset.forEach(item => item.comments = mapData(rs[item.key].comments))\n\t\t\tthis.setState({posts: dataset})\n\t\t})\n\t}\n\tsubmit = (data) => {\n\t\tlet post =\n\t\t{\n\t\t\tuserId: this.props.app.user.uid,\n\t\t\tauthor: this.props.app.user.displayName,\n\t\t\tavatar: this.props.app.user.photoURL,\n\t\t\tcontent: data.comment,\n\t\t}\n\t\tlet key = addRow('/posts/', post)\n\t\tdata.images.forEach(img => {\n\t\t\tlet link = `/image-posts/${img.id}.png`\n\t\t\tuploadFileFromString(link, img.src, (data) => addRow(`/posts/${key}/images/`, {src: link, link: data}))\n\t\t})\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Row justify='center' className='mb-4'>\n\t\t\t\t\t<Col xl={12} lg={14} md={16} sm={18} xs={20}>\n\t\t\t\t\t\t<Editor key={Math.random()} user={this.props.app.user} initValue={this.state.comment} submit={this.submit} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<List dataSource={this.state.posts}\n\t\t\t\t\tloadMore={<Row align='center'><Col><DownOutlined onClick={this.loadMore} /></Col></Row>}\n\t\t\t\t\trenderItem={item => <Post key={item.key} data={item} />} />\n\t\t\t</>);\n\t}\n}\n\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(Posts);\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport NotFound from './NotFound';\nimport Posts from './posts/Posts'\n\nclass Routing extends Component {\n\trender() {\n\t\treturn this.props.app.user==null? <Redirect to=\"/acessDenied\" />:<Switch>\n\t\t\t<Route exact path='/' component={Posts} />\n\t\t\t<Route component={NotFound} />\n\t\t</Switch>\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(Routing);\n","import {Component} from \"react\";\nimport {loginWithGoogle} from '../../../firebase/auth';\n\nexport default class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tloginWithGoogle(() => this.props.history.push('/'));\n\t}\n\trender() {\n\t\treturn '';\n\t}\n}\n","import {Component} from \"react\";\nimport {signOut} from '../../../firebase/auth';\n\nexport default class Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tsignOut(() => this.props.history.push('/acessDenied'));\n\t}\n\trender() {\n\t\treturn '';\n\t}\n}\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {Result} from 'antd';\n\nclass AccessDenied extends Component {\n\trender() {\n\t\treturn this.props.app.user == null ? <Result status=\"403\" title=\"403\" subTitle=\"Bạn chưa đăng nhập!\" /> : <Redirect to='/' />;\n\t}\n}\nconst mapStateToProps = (store) => {\n\treturn {\n\t\tapp: store.app,\n\t};\n};\nexport default connect(mapStateToProps)(AccessDenied);\n","const initialState = {\n  user: {}\n};\n\nconst template = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_USER\":\n      state.user = action.data;\n      return {...state, user: action.data};\n    default:\n      return state;\n  }\n};\n\nexport default template;\n","import {combineReducers} from 'redux';\nimport app from './app/app.reducer';\nexport default combineReducers({app});\n","import {createStore} from 'redux';\nimport combineReducers from './reducers/root.reducer';\n\nexport default createStore(combineReducers);\n\n","import './App.css';\nimport 'antd/dist/antd.css';\nimport React, {Component} from \"react\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\nimport {onUserStateChange} from './firebase/auth'\nimport {setUser} from './reducers/app/app.action'\nimport {Provider} from \"react-redux\";\nimport {Layout} from 'antd';\nimport Header from './components/layout/Header';\nimport Footer from './components/layout/Footer'\nimport Protected from './components/view/Protected'\nimport Login from './components/view/user/Login'\nimport Logout from './components/view/user/Logout'\nimport AccessDenied from './components/view/AccessDenied'\nimport store from './store';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tonUserStateChange(user => {\n\t\t\tstore.dispatch(setUser(user))\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<Layout className=\"app\">\n\t\t\t\t\t\t<Layout.Header style={{backgroundColor: \"white\"}}>\n\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t</Layout.Header>\n\t\t\t\t\t\t<Layout.Content className=\"p-3\">\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path='/login' component={Login} />\n\t\t\t\t\t\t\t\t<Route exact path='/logout' component={Logout} />\n\t\t\t\t\t\t\t\t<Route exact path='/acessDenied' component={AccessDenied} />\n\t\t\t\t\t\t\t\t<Route path=\"/\" component={Protected} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</Layout.Content>\n\t\t\t\t\t\t<Layout.Footer style={{textAlign: 'center'}}>\n\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t</Layout.Footer>\n\t\t\t\t\t</Layout>\n\t\t\t\t</HashRouter>\n\t\t\t</Provider>);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}